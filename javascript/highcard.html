<html>
	<head>
		<title>High Card</title>
		
		<script type="text/javascript" src="card.js"></script>		
		<script type="text/javascript" src="deck.js"></script>
		<script type="text/javascript" src="highcard.js"></script>

		<script type="text/javascript">
			var yourCardTextNode;
			var dealerCardTextNode;
			var resultTextNode;
			var resultsElement;
		
			function play() {
				// Lazily initialize each of the elements
				if(!yourCardTextNode)
					yourCardTextNode = document.getElementById("yourCard").firstChild;
					
				if(!dealerCardTextNode)
					dealerCardTextNode = document.getElementById("dealerCard").firstChild;
					
				if(!resultTextNode)
					resultTextNode = document.getElementById("result").firstChild;
					
				if(!resultsElement)
					resultsElement = document.getElementById("results");
			
				// Play and get the result
				var result = HighCard.play();
				
				// Set the text of each of the elements to the corresponding result information
				yourCardTextNode.nodeValue = result.yourCard;
				dealerCardTextNode.nodeValue = result.dealerCard;
				resultTextNode.nodeValue = result.result;
			
				// Show the results element
				resultsElement.style.display = "";
			}
		</script>
	</head>
	
	<body>
		<h1>High Card</h1>
		
		<div>
			<div id="results" style="display:none;">
				You drew the <span id="yourCard" />.
				<br />
				Dealer drew the <span id="dealerCard" />.
				<br />
				<span id="result" />
				<br />
				<br />
			</div>
			
			Press "Play" to draw a card.
		</div>
		
		<form>
			<button type="button" onclick="play();">Play</button>
		</form>
	</body>
</html>